# Horizontal Pod Autoscalers for Infrastructure and Critical Modules

---
# Infrastructure Modules - Critical, needs higher availability
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: ait-datahub-hpa
  namespace: ait-core
  labels:
    app: ait-datahub
    category: infrastructure
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: ait-datahub
  minReplicas: 3
  maxReplicas: 10
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 60
    - type: Resource
      resource:
        name: memory
        target:
          type: Utilization
          averageUtilization: 70

---
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: ait-authenticator-hpa
  namespace: ait-core
  labels:
    app: ait-authenticator
    category: infrastructure
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: ait-authenticator
  minReplicas: 3
  maxReplicas: 10
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 65
    - type: Resource
      resource:
        name: memory
        target:
          type: Utilization
          averageUtilization: 75

---
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: ait-api-gateway-hpa
  namespace: ait-core
  labels:
    app: ait-api-gateway
    category: infrastructure
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: ait-api-gateway
  minReplicas: 3
  maxReplicas: 15
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 70
    - type: Resource
      resource:
        name: memory
        target:
          type: Utilization
          averageUtilization: 75

---
# Analytics Modules - Need more resources
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: ai-business-intelligence-hpa
  namespace: ait-core
  labels:
    app: ai-business-intelligence
    category: analytics-intelligence
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: ai-business-intelligence
  minReplicas: 2
  maxReplicas: 6
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 75
    - type: Resource
      resource:
        name: memory
        target:
          type: Utilization
          averageUtilization: 80

---
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: ai-data-analyst-hpa
  namespace: ait-core
  labels:
    app: ai-data-analyst
    category: analytics-intelligence
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: ai-data-analyst
  minReplicas: 2
  maxReplicas: 8
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 75
    - type: Resource
      resource:
        name: memory
        target:
          type: Utilization
          averageUtilization: 80

---
# Security Modules - Critical
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: ai-defender-hpa
  namespace: ait-core
  labels:
    app: ai-defender
    category: security-compliance
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: ai-defender
  minReplicas: 2
  maxReplicas: 8
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 65
    - type: Resource
      resource:
        name: memory
        target:
          type: Utilization
          averageUtilization: 70

---
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: ai-fraud-detection-hpa
  namespace: ait-core
  labels:
    app: ai-fraud-detection
    category: security-compliance
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: ai-fraud-detection
  minReplicas: 2
  maxReplicas: 8
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 70
    - type: Resource
      resource:
        name: memory
        target:
          type: Utilization
          averageUtilization: 75

---
# Insurance Modules - High demand modules
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: autos-hpa
  namespace: ait-core
  labels:
    app: autos
    category: insurance-specialized
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: autos
  minReplicas: 2
  maxReplicas: 5
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 70

---
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: hogar-hpa
  namespace: ait-core
  labels:
    app: hogar
    category: insurance-specialized
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: hogar
  minReplicas: 2
  maxReplicas: 5
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 70

---
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: salud-hpa
  namespace: ait-core
  labels:
    app: salud
    category: insurance-specialized
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: salud
  minReplicas: 2
  maxReplicas: 5
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 70

---
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: vida-hpa
  namespace: ait-core
  labels:
    app: vida
    category: insurance-specialized
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: vida
  minReplicas: 2
  maxReplicas: 5
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 70
