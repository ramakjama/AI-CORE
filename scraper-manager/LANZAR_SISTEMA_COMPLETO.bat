@echo off
chcp 65001 >nul
title Scraper Quantum - Sistema Completo 5 Estrellas

color 0A
cls

echo.
echo     โโโโโโโโ โโโโโโโโโโโโโโ  โโโโโโ โโโโโโโ โโโโโโโโโโโโโโโ
echo     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo     โโโโโโโโโโโ     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โโโโโโโโ
echo     โโโโโโโโโโโ     โโโโโโโโโโโโโโโโโโโโโโโ โโโโโโ  โโโโโโโโ
echo     โโโโโโโโโโโโโโโโโโโ  โโโโโโ  โโโโโโ     โโโโโโโโโโโ  โโโ
echo     โโโโโโโโ โโโโโโโโโโ  โโโโโโ  โโโโโโ     โโโโโโโโโโโ  โโโ
echo.
echo     โโโโโโโ โโโ   โโโ โโโโโโ โโโโ   โโโโโโโโโโโโโโโ   โโโโโโโ   โโโโ
echo    โโโโโโโโโโโโ   โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโ   โโโโโโโโ โโโโโ
echo    โโโ   โโโโโโ   โโโโโโโโโโโโโโโโโ โโโ   โโโ   โโโ   โโโโโโโโโโโโโโ
echo    โโโโโ โโโโโโ   โโโโโโโโโโโโโโโโโโโโโ   โโโ   โโโ   โโโโโโโโโโโโโโ
echo    โโโโโโโโโโโโโโโโโโโโโ  โโโโโโ โโโโโโ   โโโ   โโโโโโโโโโโโ โโโ โโโ
echo     โโโโโโโ  โโโโโโโ โโโ  โโโโโโ  โโโโโ   โโโ    โโโโโโโ โโโ     โโโ
echo.
echo                      Sistema de 5 Estrellas v5.0.0
echo                    Portal: Occident (gco.global)
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.

timeout /t 2 /nobreak >nul

cd /d "%~dp0"

echo [1/3] Verificando sistema...
echo.
python VERIFICAR_SISTEMA.py
if errorlevel 1 (
    echo.
    echo ERROR: El sistema no pasรณ la verificaciรณn
    echo Ejecuta SETUP_COMPLETO.bat primero
    pause
    exit /b 1
)

echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.
echo [2/3] Sistema verificado correctamente (13/13 tests)
echo.
echo      ๐๐๐๐๐ SISTEMA DE 5 ESTRELLAS LISTO
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.
echo [3/3] Selecciona quรฉ lanzar:
echo.
echo    [1] API REST (Backend)                  - Puerto 8000
echo    [2] Dashboard Web (Frontend)            - Puerto 54112
echo    [3] Scraper Quantum (10 clientes test)  - Consola
echo    [4] Sistema Completo (API + Scraper)    - Todo junto
echo    [5] Ver documentaciรณn
echo    [6] Salir
echo.
set /p opcion="Tu opciรณn (1-6): "

if "%opcion%"=="1" goto :api
if "%opcion%"=="2" goto :dashboard
if "%opcion%"=="3" goto :scraper
if "%opcion%"=="4" goto :completo
if "%opcion%"=="5" goto :docs
if "%opcion%"=="6" goto :salir

echo Opciรณn invรกlida
pause
exit /b 1

:api
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo   Iniciando API REST en http://localhost:8000
echo   Documentaciรณn: http://localhost:8000/docs
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.
cd backend\src\api
python -m uvicorn main:app --reload --port 8000 --host 0.0.0.0
goto :fin

:dashboard
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo   Iniciando Dashboard en http://localhost:54112
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.
cd frontend
npm run dev
goto :fin

:scraper
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo   Iniciando Scraper Quantum
echo   Procesando 10 clientes de prueba
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.
python backend\src\core\quantum_director.py
goto :fin

:completo
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo   INICIANDO SISTEMA COMPLETO
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.
echo   Se abrirรกn 2 ventanas:
echo   1. API REST (Puerto 8000)
echo   2. Scraper Quantum
echo.
echo   Presiona Ctrl+C en cualquier ventana para detener
echo.
pause

start "API REST - Scraper Quantum" cmd /k "cd /d %~dp0backend\src\api && python -m uvicorn main:app --reload --port 8000"
timeout /t 3 /nobreak >nul
start "Scraper Quantum" cmd /k "cd /d %~dp0 && python backend\src\core\quantum_director.py"

echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo   โ Sistema completo iniciado
echo.
echo   API REST:        http://localhost:8000
echo   Documentaciรณn:   http://localhost:8000/docs
echo   WebSocket:       ws://localhost:8000/ws
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.
echo   Presiona cualquier tecla para cerrar este launcher
echo   (Las ventanas del sistema seguirรกn ejecutรกndose)
echo.
pause >nul
exit /b 0

:docs
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo   Abriendo documentaciรณn...
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.
start "" "SISTEMA_100_COMPLETO.md"
start "" "README_PRODUCCION.md"
start "" "SCRAPER_DEFINITIVO_EXTRAORDINARIO.md"
echo.
echo   โ Documentaciรณn abierta en tu editor
echo.
pause
goto :fin

:salir
echo.
echo   ๐ ยกHasta pronto!
echo.
exit /b 0

:fin
echo.
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo   โ Ejecuciรณn finalizada
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo.
pause
